<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Session types :: RP API integration guidance</title>
    <link rel="canonical" href="https://sk-eid.github.io/smart-id-documentation/rp-api/3.0.3/sessions.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item logo" href="https://www.skidsolutions.eu/"><svg viewBox="0 0 250 59.99"><defs><style>.sk-logo{fill:#fff;}</style></defs><g><g><path class="sk-logo" d="M30,0A30,30,0,1,0,60,30,30,30,0,0,0,30,0m0,56.56A26.57,26.57,0,1,1,56.56,30,26.56,26.56,0,0,1,30,56.56m-5.89-29a5.89,5.89,0,0,1,4.68,5.93,8.52,8.52,0,0,1-.17,1.63c-.84,3.68-4.1,5.32-7.44,5.32a13.51,13.51,0,0,1-1.5-.09c-2.32-.3-6.76-2.49-6.76-5.48a2.75,2.75,0,0,1,.27-1.17,1.87,1.87,0,0,1,1.71-1.1c1.21,0,1.93,1.13,2.6,2a3.14,3.14,0,0,0,1,.78,4.65,4.65,0,0,0,2,.69l.56,0h.35c1.41,0,3.14-.72,3.14-2.48a1.6,1.6,0,0,0-.72-1.47,2.82,2.82,0,0,0-.92-.38l-.79-.22-2.69-.65-.75-.19c-3.1-.89-5.09-2.73-5.09-5.69a6.92,6.92,0,0,1,.3-2,5.91,5.91,0,0,1,2.48-3.32,8,8,0,0,1,4.48-1.25h.55a6.44,6.44,0,0,1,1,.11,7.15,7.15,0,0,1,2.21.62,8.24,8.24,0,0,1,1.79,1c1.14.92,2.34,2.13,1.39,3.77a2,2,0,0,1-1.37,1,2.08,2.08,0,0,1-1.52-.32l-.72-.6-.43-.32a4.39,4.39,0,0,0-3-1c-1,0-2.4.3-2.75,1.45a2,2,0,0,0-.1.56c0,.48.29,1.15,2.05,1.68l.55.16.38.1.84.21,1.17.3.5.07.81.22M46.68,37a2.42,2.42,0,0,1,.4,1.29,2.17,2.17,0,0,1-1.46,2.1,3.51,3.51,0,0,1-.65.09,2.35,2.35,0,0,1-1.72-.8l-6.71-7.15v5.31c0,1.22-.45,2.7-2,2.7a2.18,2.18,0,0,1-2.13-2.36v-17c0-1.27.49-2.73,2.09-2.73a1.94,1.94,0,0,1,2.09,1.83V26l6.13-6.48a2.93,2.93,0,0,1,1.43-.89,2.07,2.07,0,0,1,2.32,1.62,2.57,2.57,0,0,1-.84,2.45l-6.36,6.51,7,7.22Zm25.49,2.71c0,.45-.12.64-.57.64H69.65c-.41,0-.57-.19-.57-.64V19.34c0-.44.16-.63.57-.63H71.6c.45,0,.57.19.57.63Zm5.74.64c-.38,0-.51-.22-.51-.64V19.34c0-.44.16-.63.58-.63h6.66c5.46,0,7.27,2.29,7.27,4.91V35.48c0,2.61-1.81,4.91-7.27,4.91Zm2.59-19V37.74h4.14c2.87,0,4.15-1.05,4.15-2.77V24.13c0-1.73-1.28-2.78-4.15-2.78Zm34.92,1.79c0-1.91-1-3.25-4.75-3.25s-4.76,1.34-4.76,3.25v1.18a2.84,2.84,0,0,0,2,2.71l6.13,2.33c1.59.6,3.19,1.81,3.19,4v2.81c0,2.49-1.53,4.5-6.61,4.5s-6.63-2-6.63-4.5V34.49c0-.29.13-.41.38-.41h.93c.25,0,.38.12.38.41V36c0,1.91,1.18,3.25,4.91,3.25s5-1.34,5-3.25V33.69c0-1.72-1.41-2.48-2.65-3L107,28.43a4.07,4.07,0,0,1-2.74-3.76V23c0-2.49,1.4-4.5,6.41-4.5s6.41,2,6.41,4.5v1.56c0,.25-.1.38-.39.38h-.92c-.26,0-.35-.13-.35-.38Zm6.82-.19c0-2.49,1.53-4.5,6.64-4.5s6.69,2,6.69,4.5v13.2c0,2.49-1.56,4.5-6.69,4.5s-6.64-2-6.64-4.5Zm11.61.25c0-1.94-1.24-3.28-5-3.28s-4.95,1.34-4.95,3.28V35.89c0,2,1.25,3.29,4.95,3.29s5-1.34,5-3.29ZM143,38.92h9.44c.26,0,.39.1.39.39V40c0,.29-.13.38-.39.38H141.63c-.19,0-.32-.13-.32-.38V19.09a.34.34,0,0,1,.39-.39h1c.26,0,.35.13.35.39Zm15.57-3c0,2,1.24,3.29,5,3.29s5-1.34,5-3.29V19.09a.33.33,0,0,1,.38-.38h1c.25,0,.35.12.35.38V36.15c0,2.49-1.53,4.5-6.67,4.5s-6.66-2-6.66-4.5V19.09a.33.33,0,0,1,.38-.38h1c.25,0,.35.12.35.38Zm28.8-17.18c.25,0,.38.09.38.38v.7c0,.29-.13.38-.38.38h-5.81V40c0,.25-.09.38-.35.38h-1c-.28,0-.38-.13-.38-.38V20.17H174.1c-.29,0-.38-.09-.38-.38v-.7c0-.29.09-.38.38-.38ZM193.14,40c0,.25-.1.38-.35.38h-1a.34.34,0,0,1-.38-.38V19.09a.33.33,0,0,1,.38-.38h1c.25,0,.35.12.35.38ZM198.91,23c0-2.49,1.53-4.5,6.63-4.5s6.7,2,6.7,4.5v13.2c0,2.49-1.56,4.5-6.7,4.5s-6.63-2-6.63-4.5Zm11.61.25c0-1.94-1.25-3.28-5-3.28s-4.94,1.34-4.94,3.28V35.89c0,2,1.24,3.29,4.94,3.29s5-1.34,5-3.29ZM231.28,40c0,.25-.1.38-.35.38h-.86a.33.33,0,0,1-.35-.19L220.6,24a17.53,17.53,0,0,1-1-1.92V40c0,.25-.1.38-.35.38h-.87A.34.34,0,0,1,218,40V19.09a.33.33,0,0,1,.38-.38h.87a.35.35,0,0,1,.31.15l9.22,16.36c.29.52.93,1.82.93,1.82V19.09a.33.33,0,0,1,.38-.38h.86c.25,0,.35.12.35.38Zm16.9-16.87c0-1.91-1.05-3.25-4.75-3.25s-4.75,1.34-4.75,3.25v1.18a2.84,2.84,0,0,0,2,2.71l6.12,2.33c1.6.6,3.19,1.81,3.19,4v2.81c0,2.49-1.53,4.5-6.6,4.5s-6.63-2-6.63-4.5V34.49c0-.29.12-.41.38-.41h.92c.26,0,.39.12.39.41V36c0,1.91,1.18,3.25,4.91,3.25s5-1.34,5-3.25V33.69c0-1.72-1.4-2.48-2.64-3l-5.94-2.3A4.09,4.09,0,0,1,237,24.67V23c0-2.49,1.4-4.5,6.41-4.5s6.41,2,6.41,4.5v1.56c0,.25-.09.38-.38.38h-.93c-.25,0-.35-.13-.35-.38Z"></path></g></g></svg></a>
      <a class="navbar-item" href="https://sk-eid.github.io/smart-id-documentation">RP API integration guidance</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="rp-api" data-version="3.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="introduction.html">RP API documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="glossary.html">Terms and glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="changes.html">Changes</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="sessions.html">Session types</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="authentication_session.html"><code>authentication</code> session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="signature_session.html"><code>signature</code> session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="certificatechoice_session.html"><code>certificatechoice</code> session</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="session_status.html"><code>session</code> status</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dynamic_link_flows.html">Dynamic link flows</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="notification_based_flows.html">Notification based flows</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="response_verification.html">Response verification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="object_references.html">REST object references</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="signature_protocols.html">Signature protocols</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="interactions.html">Interactions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="request_properties.html">Additional request properties</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="api_details.html">REST API details</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="secure.html">Secure Implementation Guide</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">RP API documentation</span>
    <span class="version">3.0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../3.0.3/introduction.html">RP API documentation</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../3.0.3/introduction.html">3.0.3</a>
        </li>
        <li class="version">
          <a href="../3.0.2/introduction.html">3.0.2</a>
        </li>
        <li class="version is-current">
          <a href="introduction.html">3.0.1</a>
        </li>
        <li class="version">
          <a href="../3.0.0/introduction.html">3.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../3.0.3/introduction.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="introduction.html">RP API documentation</a></li>
    <li><a href="sessions.html">Session types</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">3.0.1</button>
  <div class="version-menu">
    <a class="version" href="../3.0.3/sessions.html">3.0.3</a>
    <a class="version" href="../3.0.2/sessions.html">3.0.2</a>
    <a class="version is-current" href="sessions.html">3.0.1</a>
    <a class="version" href="../3.0.0/sessions.html">3.0.0</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Session types</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The API provides four different types of endpoints. The first three are <code>POST</code> requests that return a <code>sessionID</code> and the fourth is a <code>GET</code> used to query for the result based on the <code>sessionID</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="authentication_session.html" class="xref page"><code>authentication</code> session</a> is used to log a user onto a system or otherwise verify the identity of a user;</p>
</li>
<li>
<p>the <a href="signature_session.html" class="xref page"><code>signature</code> session</a> is used to create digital signature;</p>
</li>
<li>
<p>the <a href="certificatechoice_session.html" class="xref page"><code>certificatechoice</code> session</a> is used immediately prior to the <code>signature</code> session when the user&#8217;s signing certificate is required to create the object that will be signed;</p>
</li>
<li>
<p>finally, the <a href="session_status.html" class="xref page"><code>session</code> status endpoint</a> provides the result of the above sessions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Their implementation details are described in their respective subpages.</p>
</div>
<div class="paragraph">
<p>There are two types of flows that can be used in each of the three sessions - the <a href="notification_based_flows.html" class="xref page">notification based flow</a> and the <a href="dynamic_link_flows.html" class="xref page">dynamic link based flow</a>.</p>
</div>
<div class="paragraph">
<p>There are different ways to reference users - via their issued identifier, a document number linking a specific account or even not at all (in case of dynamic link based flows). The different object references are described on a <a href="object_references.html" class="xref page">dedicated page</a>.</p>
</div>
<div class="paragraph">
<p>The main use cases and which sessions and flows to use are described below. Utilizing the RP API as described below provides the best user experience and security.</p>
</div>
<div class="paragraph">
<p>In the URL examples below and other pages <code>BASE</code> refers to the RP API base address <code>https://rp-api.smart-id.com</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multi_device_use_cases"><a class="anchor" href="#_multi_device_use_cases"></a>Multi-device use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Use case:</strong> The RP session is on a separate device from the mobile phone where the Smart-ID app is installed.</p>
</div>
<div class="paragraph">
<p>For example, the user is using a PC browser to access an RP website or a tablet to access an RP application.</p>
</div>
<div class="sect2">
<h3 id="_authentication"><a class="anchor" href="#_authentication"></a>Authentication</h3>
<div class="paragraph">
<p>Using the dynamic link based flow with QR codes is the most secure:</p>
</div>
<div class="paragraph">
<p>RP calls the anonymous dynamic link based <code>authentication</code> session endpoint and displays a QR code that the user must scan with the Smart-ID app.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/authentication/dynamic-link/anonymous</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Instead of using the anonymous <code>authentication</code> session endpoint, the RP can request the user to enter their user identifier and utilize the non-anonymous <code>authentication</code> session endpoint. This may be beneficial when the RP utilizes custom usernames.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/authentication/dynamic-link/etsi/:id-etsi-qcs-SemanticsId-Natural</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Notification based <code>authentication</code> session endpoint can also be used for the same purpose.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to improve security and prevent phishing attacks, it is recommended to only allow notification based flows on devices and browsers that have successfully completed a dynamic link based flow. Setting up a unique device identifier is left to the RP to implement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using a notification based <code>authentication</code> session endpoint triggers a push notification to all the user&#8217;s devices instead of the user having to scan QR codes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/authentication/notification/etsi/:id-etsi-qcs-SemanticsId-Natural</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_signing_with_prior_authentication"><a class="anchor" href="#_signing_with_prior_authentication"></a>Signing with prior authentication</h3>
<div class="sect3">
<h4 id="_without_certificate_query"><a class="anchor" href="#_without_certificate_query"></a>Without certificate query</h4>
<div class="paragraph">
<p>If a user has already logged onto the RP app or website using Smart-ID authentication, the RP can call the notification based <code>signature</code> session endpoint to sign using the same Smart-ID account that was used for authentication.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to improve security and prevent phishing attacks, it is recommended to only allow notification based flows on devices and browsers that have successfully completed a dynamic link based flow. Setting up a unique device identifier is left to the RP to implement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The document number is attained from the preceding authentication call.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/notification/document/:documentnumber</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_with_certificate_query"><a class="anchor" href="#_with_certificate_query"></a>With certificate query</h4>
<div class="paragraph">
<p>In many cases, the user&#8217;s signing certificate is required before the <code>signature</code> session can be initiated. Calling the notification based <code>certificatechoice</code> session endpoint allows obtaining it. As the document number is already known, no user interaction is required for the <code>certificatechoice</code> session and the RP API can immediately provide the certificate.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/certificatechoice/notification/document/:documentnumber</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the signing certificate is obtained, the notification based <code>signature</code> session endpoint can be called with the document number.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/notification/document/:documentnumber</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_signing_without_prior_authentication"><a class="anchor" href="#_signing_without_prior_authentication"></a>Signing without prior authentication</h3>
<div class="sect3">
<h4 id="_without_certificate_query_2"><a class="anchor" href="#_without_certificate_query_2"></a>Without certificate query</h4>
<div class="paragraph">
<p>In case no prior authentication has taken place, the dynamic link based <code>signature</code> session endpoint should be called.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/dynamic-link/etsi/:id-etsi-qcs-SemanticsId-Natural</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_with_certificate_query_2"><a class="anchor" href="#_with_certificate_query_2"></a>With certificate query</h4>
<div class="paragraph">
<p>Often though the certificate is required prior to the signing request.</p>
</div>
<div class="paragraph">
<p>It is recommended for the RP to first call the anonymous dynamic link based <code>certificatechoice</code> session endpoint on a new device for improved security and phishing-resistance.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/certificatechoice/dynamic-link/anonymous</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Immediately after that, RP should call the notification based <code>signature</code> session endpoint.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/notification/document/:documentnumber</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The combination of dynamic link based <code>certificatechoice</code> and notification based <code>signature</code> session endpoints provides the optimal user experience where Smart-ID app is launched only once.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_single_device_use_cases"><a class="anchor" href="#_single_device_use_cases"></a>Single-device use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Use case:</strong> The RP frontend (whether an RP app or website accessed by a mobile browser) resides on the same mobile device as the Smart-ID app.</p>
</div>
<div class="paragraph">
<p>The client is using a mobile app or RP detects that the user is on a mobile browser so it can be assumed that the user intends to use the Smart-ID app on the same device.</p>
</div>
<div class="paragraph">
<p>However, a fallback option should also be provided to switch to the separate device use case.</p>
</div>
<div class="sect2">
<h3 id="_authentication_2"><a class="anchor" href="#_authentication_2"></a>Authentication</h3>
<div class="paragraph">
<p>Use the anonymous dynamic link based <code>authentication</code> session endpoint for App2App and Web2App flows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/authentication/dynamic-link/anonymous</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternatively, the non-anonymous flow can be used to too.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/authentication/dynamic-link/etsi/:id-etsi-qcs-SemanticsId-Natural</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a fallback (in case the Smart-ID app is on a separate account), RP should provide an option to use QR codes instead of the App2App or Web2App link. There is no need to query the RP API again for this.</p>
</div>
</div>
<div class="sect2">
<h3 id="_signing_with_prior_authentication_2"><a class="anchor" href="#_signing_with_prior_authentication_2"></a>Signing with prior authentication</h3>
<div class="sect3">
<h4 id="_without_certificate_query_3"><a class="anchor" href="#_without_certificate_query_3"></a>Without certificate query</h4>
<div class="paragraph">
<p>Call the dynamic link based <code>signature</code> session endpoint and provide the document number from the <code>authentication</code> session to ensure the same account is being used.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/dynamic-link/document/:documentnumber</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_with_certificate_query_3"><a class="anchor" href="#_with_certificate_query_3"></a>With certificate query</h4>
<div class="paragraph">
<p>As the document number is already known, no user interaction is required for the <code>certificatechoice</code> session and the RP API can immediately provide the certificate.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In order to improve security and prevent phishing attacks, it is recommended to only allow notification based flows on devices and browsers that have successfully completed a dynamic link based flow. Setting up a unique device identifier is left to the RP to implement.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/certificatechoice/notification/document/:documentnumber</code></p>
</li>
<li>
<p><code>BASE/v3/signature/dynamic-link/document/:documentnumber</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_signing_without_prior_authentication_2"><a class="anchor" href="#_signing_without_prior_authentication_2"></a>Signing without prior authentication</h3>
<div class="sect3">
<h4 id="_without_certificate_query_4"><a class="anchor" href="#_without_certificate_query_4"></a>Without certificate query</h4>
<div class="paragraph">
<p>In case no prior authentication has taken place, one should call the dynamic link based <code>signature</code> session endpoint.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/signature/dynamic-link/etsi/:id-etsi-qcs-SemanticsId-Natural</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_with_certificate_query_4"><a class="anchor" href="#_with_certificate_query_4"></a>With certificate query</h4>
<div class="paragraph">
<p>Often though the certificate is required prior to the signing request. Call the anonymous dynamic link based <code>certificatechoice</code> session endpoint and then immediately the notification based <code>signature</code> session endpoint.</p>
</div>
<div class="paragraph">
<p>The Smart-ID app will wait for the <code>signature</code> session and return only after it has been completed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BASE/v3/certificatechoice/dynamic-link/anonymous</code></p>
</li>
<li>
<p><code>BASE/v3/signature/notification/document/:documentnumber</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>© 2024 SK ID Solutions AS</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
